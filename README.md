# Тестовое задание на позицию Backend-разработчик на языке Python.



[![Python](https://img.shields.io/badge/-Python-464646?style=flat&logo=Python&logoColor=56C0C0&color=008080)](https://www.python.org/)
[![Django](https://img.shields.io/badge/-Django-464646?style=flat&logo=Django&logoColor=56C0C0&color=008080)](https://www.djangoproject.com/)
![Django REST Framework](https://img.shields.io/badge/-Django%20REST%20Framework-464646?style=flat&logo=Django%20REST%20Framework&logoColor=56C0C0&color=008080)

## Запуск проекта.

### Клонируйте репозиторий с проектом на свой компьютер. В терминале из рабочей директории выполните команду:
```bash
git clone https://github.com/Mrazzzlop/foodgram-project-react.git
```

### Установить и активировать виртуальное окружение

```bash
source /venv/bin/activate
```

### Установить зависимости из файла requirements.txt

```bash
python -m pip install --upgrade pip
```
```bash
pip install -r requirements.txt
```
### Создать файл .env в папке проекта:
```.env
SECRET_KEY=secret_key
DEBUG=False
ALLOWED_HOSTS=127.0.0.1,localhost,backend
```

### Выполните миграции:
```bash
python manage.py migrate
```
### Запустите сервер 
```bash
python manage.py runserver
```
### Основные адреса: 

| Адрес                                      | Описание                                                                                     |
|:------------------------------------------|:----------------------------------------------------------------------------------------------|
| 127.0.0.1                                | Главная страница вашего веб-приложения.                                                    |
| 127.0.0.1/admin/                        | Панель администратора для входа и управления пользователями, автомобилями и комментариями. |
| 127.0.0.1/cars/<int:pk>/                | Страница с подробной информацией о конкретном автомобиле по его уникальному идентификатору (pk). |
| 127.0.0.1/profiles/<str:username>/      | Страница профиля пользователя, где отображается информация о пользователе по его имени (username). |
| 127.0.0.1/cars/create/                  | Страница для создания нового автомобиля. Необходимо заполнить форму с данными автомобиля.  |
| 127.0.0.1/cars/<int:pk>/edit/           | Страница для редактирования информации о конкретном автомобиле по его уникальному идентификатору (pk). |
| 127.0.0.1/cars/<int:pk>/delete/         | Страница для подтверждения удаления конкретного автомобиля по его уникальному идентификатору (pk). |
| 127.0.0.1/cars/<int:car_id>/comments/   | Страница для просмотра и добавления комментариев к конкретному автомобилю по его уникальному идентификатору (car_id). |
| 127.0.0.1/cars/<int:car_id>/comments/<int:comment_id>/edit/ | Страница для редактирования конкретного комментария к автомобилю по его уникальному идентификатору (comment_id). |
| 127.0.0.1/cars/<int:car_id>/comments/<int:comment_id>/delete/ | Страница для подтверждения удаления конкретного комментария к автомобилю по его уникальному идентификатору (comment_id). |
### Запросы к API

| Метод | Адрес                                      | Описание                                                                                     |
|-------|-------------------------------------------|----------------------------------------------------------------------------------------------|
| POST  | http://127.0.0.1:8000/api/auth/users/   | Регистрация нового пользователя.                                                             |
|       |                                           | ```json { "email": "user@example.com", "username": "string", "password": "string" } ```   |
|-------|-------------------------------------------|----------------------------------------------------------------------------------------------|
| POST  | http://127.0.0.1:8000/api/login          | Аутентификация пользователя (PyJWT).                                                         |
|       |                                           | ```json { "email": "string", "password": "string" } ```                                   |
|-------|-------------------------------------------|----------------------------------------------------------------------------------------------|
| GET   | http://127.0.0.1:8000/api/cars/          | Получить список всех машин.                                                                  |
|       |                                           | ```json [ { "make": "Seres", "model": "M5 (Aito)", "year": 1995, "description": "description", "owner": 1 } ] ``` |
|-------|-------------------------------------------|----------------------------------------------------------------------------------------------|
| GET   | http://127.0.0.1:8000/api/cars/<int:car_id>/ | Получить информацию о машине по ID.                                                         |
|       |                                           | ```json { "make": "Seres", "model": "M5 (Aito)", "year": 1995, "description": "description", "owner": 1 } ``` |
|-------|-------------------------------------------|----------------------------------------------------------------------------------------------|
| POST  | http://127.0.0.1:8000/api/cars/          | Создать новую машину (только для авторизованных пользователей).                             |
|       |                                           | ```json { "make": "Seres", "model": "M5 (Aito)", "year": 1995, "description": "description" } ``` |
|-------|-------------------------------------------|----------------------------------------------------------------------------------------------|
| PUT   | http://127.0.0.1:8000/api/cars/<int:car_id>/ | Редактировать информацию о машине (только автору или админу).                              |
|       |                                           | ```json { "make": "Seres", "model": "M5 (Aito)", "year": 1995, "description": "updated description" } ``` |
|-------|-------------------------------------------|----------------------------------------------------------------------------------------------|
| DELETE| http://127.0.0.1:8000/api/cars/<int:car_id>/ | Удалить машину (только автору или админу).                                                 |
|-------|-------------------------------------------|----------------------------------------------------------------------------------------------|
| GET   | http://127.0.0.1:8000/api/cars/<int:car_id>/comments/ | Получить список комментариев к машине.                                                  |
|       |                                           | ```json [ { "content": "Nice car!", "author": 1 }, { "content": "I love it!", "author": 2 } ] ``` |
|-------|-------------------------------------------|----------------------------------------------------------------------------------------------|
| GET   | http://127.0.0.1:8000/api/cars/<int:car_id>/comments/<int:comment_id> | Получить конкретный комментарий комментариев к машине.                                                  |
|       |                                           | ```json [ { "content": "Nice car!", "author": 1 }, { "content": "I love it!", "author": 2 } ] ``` |
|-------|-------------------------------------------|----------------------------------------------------------------------------------------------|
| POST  | http://127.0.0.1:8000/api/cars/<int:car_id>/comments/ | Создать новый комментарий к машине (только для авторизованных пользователей).           |
|       |                                           | ```json { "content": "Great car!" } ```                                                    |
|-------|-------------------------------------------|----------------------------------------------------------------------------------------------|
| PUT   | http://127.0.0.1:8000/api/cars/<int:car_id>/comments/<int:comment_id>/edit/ | Редактировать комментарий к машине (только автору или админу).                       |
|       |                                           | ```json { "content": "Updated comment!" } ```                                             |
|-------|-------------------------------------------|----------------------------------------------------------------------------------------------|
| DELETE| http://127.0.0.1:8000/api/cars/<int:car_id>/comments/<int:comment_id>/delete/ | Удалить комментарий к машине (только автору или админу).                               |

